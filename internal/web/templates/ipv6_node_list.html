{{template "base" .}}

{{define "title"}}Michiel van der Vlist's IPv6 Node List{{end}}

{{define "page_title"}}Michiel van der Vlist's IPv6 Node List{{end}}

{{define "page_subtitle"}}<p class="subtitle">Verified working IPv6 nodes with correct AKA validation (Michiel van der Vlist's format)</p>{{end}}

{{define "head_scripts"}}
<script src="/static/sortable-table.js"></script>
{{end}}

{{define "content"}}
<div class="search-container">
    <form method="get" style="display: flex; gap: 1rem; align-items: center; margin-bottom: 2rem; flex-wrap: wrap;">
        <div class="form-group">
            <label for="days">Period:</label>
            <select name="days" id="days" class="form-control">
                <option value="7" {{if eq .Days 7}}selected{{end}}>Last 7 days</option>
                <option value="30" {{if eq .Days 30}}selected{{end}}>Last 30 days</option>
                <option value="90" {{if eq .Days 90}}selected{{end}}>Last 90 days</option>
                <option value="180" {{if eq .Days 180}}selected{{end}}>Last 180 days</option>
                <option value="365" {{if eq .Days 365}}selected{{end}}>Last year</option>
            </select>
        </div>

        <div class="form-group">
            <label for="limit">Limit:</label>
            <select name="limit" id="limit" class="form-control">
                <option value="50" {{if eq .Limit 50}}selected{{end}}>50</option>
                <option value="100" {{if eq .Limit 100}}selected{{end}}>100</option>
                <option value="200" {{if eq .Limit 200}}selected{{end}}>200</option>
                <option value="500" {{if eq .Limit 500}}selected{{end}}>500</option>
                <option value="1000" {{if eq .Limit 1000}}selected{{end}}>1000</option>
            </select>
        </div>

        <div class="form-group" style="display: flex; align-items: center; gap: 0.5rem;">
            <input type="checkbox" name="includeZero" id="includeZero" value="true" {{if .IncludeZeroNodes}}checked{{end}}>
            <label for="includeZero" style="margin: 0;">Include /0 nodes</label>
        </div>

        <button type="submit" class="btn btn-primary">Apply Filters</button>
        <a href="/analytics/ipv6-node-list?format=text&days={{.Days}}&limit={{.Limit}}{{if .IncludeZeroNodes}}&includeZero=true{{end}}" class="btn btn-primary" style="text-decoration: none;">Download as Text</a>
    </form>
</div>
{{template "error_display" .}}

{{if .Nodes}}
<div class="stats-box">
    <h3>Found {{len .Nodes}} Verified IPv6 Nodes</h3>
</div>

<div class="table-responsive">
    <table class="data-table sortable-table">
        <thead>
            <tr>
                <th data-sortable data-type="number" data-default-sort="asc">#</th>
                <th data-sortable data-type="address">Node Address</th>
                <th data-sortable data-type="string">Sysop</th>
                <th data-sortable data-type="string">Type</th>
                <th data-sortable data-type="string">Provider</th>
                <th data-sortable data-type="string">Remarks</th>
                <th data-sortable data-type="date">Last Tested</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{range $i, $node := .Nodes}}
            <tr>
                <td>{{add $i 1}}</td>
                <td>
                    <a href="/node/{{$node.Zone}}/{{$node.Net}}/{{$node.Node}}">{{$node.Zone}}:{{$node.Net}}/{{$node.Node}}</a>
                </td>
                <td>{{$node.SysopName}}</td>
                <td>
                    {{if eq $node.IPv6Type "Native"}}
                        <span style="color: #28a745;">{{$node.IPv6Type}}</span>
                    {{else}}
                        <span style="color: #fd7e14;">{{$node.IPv6Type}}</span>
                    {{end}}
                </td>
                <td>{{$node.Provider}}</td>
                <td>
                    {{if $node.HasFidoAddr}}<span class="badge badge-info" title="Has ::f1d0: style IPv6 address">f</span> {{end}}
                    {{if $node.HasNoIPv4}}<span class="badge badge-warning" title="No working IPv4 connectivity">INO4</span> {{end}}
                    {{if $node.IsUnstable}}<span class="badge badge-danger" title="IPv6 unstable: failed more than twice in 30 days">6UNS</span> {{end}}
                </td>
                <td data-value="{{$node.TestTime.Unix}}">
                    <span class="text-muted">{{$node.TestTime.Format "2006-01-02 15:04"}}</span>
                </td>
                <td>
                    <a href="/node/{{$node.Zone}}/{{$node.Net}}/{{$node.Node}}" class="btn btn-sm" title="View node history">History</a>
                    <a href="/reachability/node?zone={{$node.Zone}}&net={{$node.Net}}&node={{$node.Node}}" class="btn btn-sm" title="View reachability">Reach.</a>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>

<div class="info-box" style="margin-top: 2rem;">
    <p><strong>About this report:</strong> This list shows FidoNet nodes with <strong>verified working IPv6 connectivity</strong>. Only nodes where BinkP or IFCICO protocol succeeded over IPv6 <strong>and</strong> the announced AKA (address) was validated as correct are included.</p>
    <p><strong>Type Detection:</strong></p>
    <ul>
        <li><strong>Native</strong> &mdash; Direct IPv6 connectivity (not tunneled)</li>
        <li><strong>T-6in4</strong> &mdash; Static 6in4 tunnel (detected from 2001:470::/32 address range, typically Hurricane Electric)</li>
        <li><strong>T-6to4</strong> &mdash; 6to4 tunnel (detected from 2002::/16 prefix)</li>
        <li><strong>T-Teredo</strong> &mdash; Teredo tunnel (detected from 2001:0000::/32 prefix)</li>
    </ul>
    <p><strong>Remarks:</strong></p>
    <ul>
        <li><strong>f</strong> &mdash; Has a <code>::f1d0:&lt;zone&gt;:&lt;net&gt;:&lt;node&gt;</code> style host address</li>
        <li><strong>INO4</strong> &mdash; No IPv4: Node has no working IPv4 connectivity</li>
        <li><strong>6UNS</strong> &mdash; IPv6 unstable: Failed more than twice during the last 30 days</li>
    </ul>
    <p><strong>Note:</strong> Provider information is determined from GeoIP lookup of the node's IP address.</p>
    <p><strong>Disclaimer:</strong> This is <em>not</em> the original list maintained by Michiel van der Vlist (2:280/5555). It is an automated report generated by NodelistDB using the format he established. The data is gathered through automated connectivity testing and may differ from his manually curated list.</p>
    <p><strong>Acknowledgement:</strong> This report would not exist without the pioneering work of Michiel van der Vlist, who has been maintaining his "List of IPv6 nodes" by hand for many years. His dedication to tracking and promoting IPv6 adoption in FidoNet has been invaluable to the community. Thank you, Michiel!</p>
</div>

{{else}}
<div class="alert alert-warning">
    <strong>No verified IPv6 nodes found for the selected period.</strong><br>
    This could mean that no nodes with IPv6 AKA validation were tested during this period, or the test daemon has not yet populated the address_validated_ipv6 field.
</div>
{{end}}
{{end}}
