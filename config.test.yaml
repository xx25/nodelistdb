# Test configuration for testdaemon with local paths
database:
  type: clickhouse
  clickhouse:
    host: localhost
    port: 9000
    database: nodelistdb
    username: default
    password: ""
    use_ssl: false
    max_open_conns: 10
    max_idle_conns: 5
    dial_timeout: 30s
    read_timeout: 5m
    write_timeout: 1m
    compression: lz4
    batch_size: 1000
    flush_interval: 30s

daemon:
  test_interval: 72h                # Regular test interval
  stale_test_threshold: 72h         # Consider test stale after 72h
  failed_retry_interval: 24h        # Retry failed nodes every 24h
  workers: 5
  batch_size: 50

protocols:
  binkp:
    enabled: true
    port: 24554
    timeout: 10s
    our_address: "2:5001/5001"
    system_name: "NodelistDB Test Daemon"
    sysop: "Test Operator"
    location: "Test Location"
  ifcico:
    enabled: true
    port: 60179
    timeout: 10s
    our_address: "2:5001/5001"
    system_name: "NodelistDB Test Daemon"
    sysop: "Test Operator"
    location: "Test Location"

services:
  dns:
    workers: 10
    timeout: 5s
    cache_ttl: 24h
  geolocation:
    provider: ip-api
    api_key: ""
    cache_ttl: 168h
    rate_limit: 150

cache:
  enabled: true
  type: badger
  path: ./cache

logging:
  level: info
  file: ./testdaemon.log
  max_size: 100
  max_backups: 3
  max_age: 7

cli:
  enabled: true
  host: 127.0.0.1
  port: 2324  # Different port to avoid conflict